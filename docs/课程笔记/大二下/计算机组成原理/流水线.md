## 生活中的流水线

假设洗衣服包含四个步骤：洗衣机中洗衣、烘干机烘干、叠衣服、收纳，每个步骤耗时0.5h

![img](https://github.com/DINOREXNB/DINOREXNB.github.io/blob/main/docs/images/jz8-1.png?raw=true){width=450}

假如洗衣服阶段氛围n段，加速比为$2*4/(2+0.5*3)\approx 2.3$

## RISC-V指令执行的五个阶段

1. IF，从指令存储器中取出指令
2. ID，读寄存器堆并译码指令
3. EX，ALU执行操作或者计算地址
4. MEM，访问数据存储器
5. WB，将结果写回寄存器

> 让五个阶段重叠执行可提高性能

## 流水线性能分析

- 假设各个阶段的耗时：
    - 寄存器堆的读或写为100ps
    - 其他阶段为200ps
- 比较流水线指令执行与单周期指令执行的平均执行时间

![img](https://github.com/DINOREXNB/DINOREXNB.github.io/blob/main/docs/images/jz8-2.png?raw=true){width=450}

**计算机各种延时示意图**

<details>
    <summary>点击展开</summary>
    
![img](https://github.com/DINOREXNB/DINOREXNB.github.io/blob/main/docs/images/jz8-3.png?raw=true){width=450}
</details>