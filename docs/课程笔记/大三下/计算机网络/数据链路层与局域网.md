## 数据链路层服务

向下：利用物理层提供的位流服务

向上：向网络层提供**明确的服务接口**

### 关键词

结点：主机、路由器、交换机

链路：链接相邻节点的通信信道

帧：链路层数据分组，封装网络层的数据报

> 数据链路层负责通过一条链路从一个节点向另外一个**物理链路**直接相连的相邻节点传送数据包

## 组帧（framing）

1. 封装网络层数据报构成数据帧
2. 帧同步：从物理层接收的比特流中准确区分出一帧的开始与结束

> 一般通过字节计数法、带字节填充的定界符法

所谓定界符法，就是使用一个特殊的字节（比如0x7E）来区分前后两个不同的帧

如果有效载荷部分出现了与“定界符”相同的字节怎么办？

![alt text](image-25.png)

带比特填充的定界符法：比如在两个0比特之间，连续6个1比特

如果有效载荷部分包含与定界符相同的位组合怎么办？

![alt text](image-26.png)

## 差错检测与差错控制

### 差错检测：差错编码

基本原理：$D\to DR$，其中R为差错检测与纠正比特（也称为冗余比特）

但是差错编码不能保证100%可靠！

### 差错编码的纠错能力

差错编码可分为**检错码**和**纠错码**

汉明距离：等长的两个码字之间对应位不相同的数目

对于检错码：如果汉明距离$d_s=r+1$，那么该差错编码可以检测r位差错

> 例如，编码集 {0000,0101,1010,1111} 的汉明距离ds=2，可以100%检测1比特差错

对于纠错码：如果汉明距离$d_s=2r+1$，那么该差错编码可以纠正r位差错

> 例如，编码集 {000000,010101,101010,111111} 的汉明距离ds=3，可以纠正1比特差错，如100010纠正为101010

### 奇偶校验码



### 循环冗余校验码(CRC)



## 可靠数据传输

## 多路访问控制(MAC)协议

## 局域网技术

## PPP协议

## 链路虚拟化