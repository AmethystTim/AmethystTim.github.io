## 运行存储分配策略

编译器在工作过程中，必须为源程序中出现的一些数据对象分配运行时的存储空间

对于那些在编译时刻就可以确定大小及存放位置的数据对象，可以在编译时刻就为它们分配存储空间，这样的分配策略称为静态存储分配

反之，如果不能在编译时完全确定数据对象的大小或存放位置，就要采用动态存储分配的策略。动态分配策略又分为栈式存储分配和堆式存储分配

![alt text](image-11.png){width=400}

> 运行时的内存划分

例：

```c
int arr[2] = {1,2};
int main(){
    int a, b, c;
    c = add(a,b);
    char* str;
    str = (char*)malloc(c);
    strcpy(str,"do nothing");
    return 0;
}
int add(int x, int y){
    int z = x + y;
    return z;
}

```

- 静态数据区：arr,
- stack：a,b,c,z,x,y,str
- heap：malloc

### 活动记录

使用过程(或函数、方法)作为用户自定义动作的单元的语言，其编译器通常以过程为单位分配存储空间